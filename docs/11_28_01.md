NeuroNova í”„ë¡œì íŠ¸ ì „ì²´ ê²€í† 
1. í”„ë¡œì íŠ¸ ê°œìš”
NeuroNova (Neurology + Nova)ëŠ” ë‡Œì¢…ì–‘ ì§„ë‹¨ì„ ìœ„í•œ ì„ìƒ ì˜ì‚¬ê²°ì • ì§€ì› ì‹œìŠ¤í…œ(CDSS)ì…ë‹ˆë‹¤. í•µì‹¬ ê°€ì¹˜:
ë³‘ì›ì„± ì •ì˜ ë° ì—°êµ¬ í•„ìš”ì„±
ë°ì´í„° ë³´ì•ˆ (ìµëª…í™”)
ì‹œìŠ¤í…œ í†µí•© (EMR/OpenEMR ì—°ë™)


2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
[Flutter App (í™˜ì)]    [React Web (ì˜ë£Œì§„)]
         â†“                      â†“
    [Nginx + Gunicorn]
         â†“
    [Django ë©”ì¸ ì„œë²„] â†â†’ [Flask AI ì¶”ë¡ ] + [Orthanc DICOM]
         â†“
  [MySQL + Redis]


3. ê¸°ìˆ  ìŠ¤íƒ
Backend (ì§„í–‰ ì¤‘)
Django 5.0: ë©”ì¸ API ì„œë²„, ì¸ì¦, DB ê´€ë¦¬
DRF (Django REST Framework)
JWT ì¸ì¦ (SimpleJWT)
drf-spectacular (API ë¬¸ì„œ)
Celery (ë¹„ë™ê¸° ì‘ì—…)
Flask: AI ì¶”ë¡  ì—”ì§„ (ì•„ì§ ë¯¸êµ¬í˜„)
MySQL 8.0: ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
Redis: ìºì‹± ë° í
Orthanc: DICOM ì˜ë£Œ ì˜ìƒ ì„œë²„ (ì„¤ì • ì™„ë£Œ)
Frontend (ì™„ë£Œ)
React 18.2: ì˜ë£Œì§„ìš© ì›¹ ëŒ€ì‹œë³´ë“œ âœ…
Vite, Material-UI, Recharts
í™˜ì ê´€ë¦¬, ì˜ˆì•½, AI ì§„ë‹¨, DICOM ë·°ì–´, XAI ì‹œê°í™”
Flutter 3.0: í™˜ììš© ëª¨ë°”ì¼ ì•± âœ…
SQLCipher (ì•”í˜¸í™” ë¡œì»¬ DB)
Firebase í‘¸ì‹œ ì•Œë¦¼
ì˜ˆì•½ ìƒì„±/ì¡°íšŒ, 90ì¼ ìë™ ì‚­ì œ


4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„
EMR ì˜ì—­ (OpenEMR í˜¸í™˜)
Patient: í™˜ì ê¸°ë³¸ ì •ë³´ (pid, ì´ë¦„, ìƒë…„ì›”ì¼, ë³´í—˜ë²ˆí˜¸)
Encounter: ì§„ë£Œ ì„¸ì…˜ (ë‚ ì§œ, ì‚¬ìœ , ìƒíƒœ)
FormSOAP: SOAP ì°¨íŠ¸ (Subjective, Objective, Assessment, Plan)
FormVitals: í™œë ¥ ì§•í›„ (í˜ˆì••, ì²´ì˜¨, BMI ìë™ ê³„ì‚°)
MergedDocument: í†µí•© ë¬¸ì„œ (ì°¸ì¡° IDë¡œ ì›ë³¸ ë°ì´í„° ì—°ê²°)
Custom ì˜ì—­ (NeuroNova Core)
Doctor: ì˜ì‚¬ ì •ë³´ (ë©´í—ˆë²ˆí˜¸, ì „ë¬¸ë¶„ì•¼)
PatientDoctor: í™˜ì-ì˜ì‚¬ N:M ê´€ê³„
Appointment: ì˜ˆì•½ ê´€ë¦¬ (ìƒíƒœ, ë°©ë¬¸ ìœ í˜•)
PatientPredictionResult: AI ì§„ë‹¨ ê²°ê³¼ (í•µì‹¬)
ëª¨ë¸ëª…/ë²„ì „, Orthanc UID, ì˜ˆì¸¡ í´ë˜ìŠ¤, ì‹ ë¢°ë„
XAI ì´ë¯¸ì§€ ê²½ë¡œ, íŠ¹ì„± ì¤‘ìš”ë„
Human-in-the-loop: ì˜ì‚¬ í”¼ë“œë°± (CORRECT, INCORRECT, AMBIGUOUS)
Prescription: ì²˜ë°©ì „
NotificationLog: ì•Œë¦¼ ê¸°ë¡
RBAC ê¶Œí•œ ì •ì±…
ì—­í• 	ê¶Œí•œ	íŠ¹ì´ì‚¬í•­
Admin	All (Hard Delete ê°€ëŠ¥)	ì‹œìŠ¤í…œ ê´€ë¦¬
Doctor	CRU (Delete ë¶ˆê°€)	Soft Deleteë§Œ ê°€ëŠ¥ (ì˜ë£Œ ë¬´ê²°ì„±)
Nurse	R (EMR), C/U (Vitals)	ì§„ë£Œê¸°ë¡ ìˆ˜ì • ë¶ˆê°€
Patient	R (Self), C/U (Appointment)	ë³¸ì¸ ì •ë³´ë§Œ ì¡°íšŒ


5. ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„ í˜„í™©
âœ… ì™„ë£Œ (Frontend)
React Web (ì˜ë£Œì§„)
ëŒ€ì‹œë³´ë“œ, í™˜ì ëª©ë¡/ìƒì„¸
ì˜ˆì•½ ê´€ë¦¬
DICOM ë·°ì–´ (Orthanc í†µí•©)
AI ì§„ë‹¨ ê²°ê³¼ ë° XAI ì‹œê°í™”
SOAP ì°¨íŠ¸, ì²˜ë°© ê´€ë¦¬
ì•Œë¦¼ ì„¼í„°
Flutter App (í™˜ì)
ë¡œê·¸ì¸/ì¸ì¦
ì˜ˆì•½ ìƒì„±/ì¡°íšŒ
ì•”í˜¸í™” ë¡œì»¬ ì €ì¥ (SQLCipher)
90ì¼ ìë™ ì‚­ì œ ì •ì±… (ì•± ì‹œì‘ ì‹œ ì‹¤í–‰)
í‘¸ì‹œ ì•Œë¦¼ ì¤€ë¹„ (Firebase ì„¤ì • ëŒ€ê¸°)

âœ… ì™„ë£Œ (Backend)
Django ì„œë²„
âœ… ëª¨ë¸ ì •ì˜ ì™„ë£Œ (users, emr, custom, notifications)
âœ… Constants ì •ì˜ (RBAC, Status ë“±)
âœ… Settings êµ¬ì„± (JWT, Redis, CORS, API ë¬¸ì„œ)
âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ ì™„ë£Œ
âœ… Views/Serializers/URLs êµ¬í˜„ ì™„ë£Œ
  - Users: íšŒì›ê°€ì…, ë¡œê·¸ì¸, í”„ë¡œí•„ ê´€ë¦¬, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
  - EMR: Patient/Encounter CRUD, ë³‘ë ¥ ì¡°íšŒ, SOAP/Vitals ê¸°ë¡
  - Custom: Appointment í™•ì¸/ì·¨ì†Œ, AI ì˜ˆì¸¡ Human-in-the-loop ê²€ì¦
âœ… Orthanc ì—°ë™ ì™„ë£Œ
  - OrthancService: DICOM Study/Series/Instance ì¡°íšŒ
  - API ì—”ë“œí¬ì¸íŠ¸ 7ê°œ êµ¬í˜„ (í”„ë¡ì‹œ)
âœ… í‘¸ì‹œ ì•Œë¦¼ êµ¬í˜„ ì™„ë£Œ
  - NotificationService (Strategy Pattern)
  - FCM í†µí•© (ì˜ˆì•½ í™•ì¸/ì·¨ì†Œ, ì§„ë‹¨ ì™„ë£Œ, ì²˜ë°© ë°œê¸‰)
  - Flutter ì•Œë¦¼ ìˆ˜ì‹  ë° ë„¤ë¹„ê²Œì´ì…˜
âœ… í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ì™„ë£Œ
  - Users: íšŒì›ê°€ì…, ì¸ì¦, ê¶Œí•œ í…ŒìŠ¤íŠ¸ (4 test classes)
  - EMR: Patient, Encounter, SOAP, Vitals í…ŒìŠ¤íŠ¸ (4 test classes)
  - Custom: Appointment, Prediction, Prescription í…ŒìŠ¤íŠ¸ (4 test classes)

Flask AI ì„œë²„
âŒ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•ŠìŒ (ëª…ì‹œì  ëŒ€ê¸°)
í•„ìš”: ìµëª…í™” ë°ì´í„° ìˆ˜ì‹  â†’ AI ëª¨ë¸ ì¶”ë¡  â†’ XAI ìƒì„± â†’ ê²°ê³¼ ë°˜í™˜


6. ë³´ì•ˆ ì •ì±…
ë°ì´í„° íë¦„ ë° ìµëª…í™”
Client â†’ Django â†’ (PII ì œê±°) â†’ Flask AI â†’ ê²°ê³¼ ë°˜í™˜ â†’ Django ì €ì¥
í™˜ì ì•± ì •ì±…
ì•”í˜¸í™”: SQLCipherë¡œ ë¡œì»¬ DB ì•”í˜¸í™”
90ì¼ ìë™ ì‚­ì œ: ì•± ì‹œì‘ ì‹œ expire_at ì²´í¬ í›„ ì‚­ì œ
API ìµœì†Œí™”: ìºì‹±ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê°ì†Œ

7. ê°œë°œ ê°€ì´ë“œë¼ì¸
Design Patterns
Factory Pattern: AI ëª¨ë¸ ë¡œë”©
Strategy Pattern: ì•Œë¦¼ ë°œì†¡ (Email/Push)
DTO/Serializer: Django-Flask ê°„ ë°ì´í„° ê²€ì¦
Coding Standards
Soft-coding: ëª¨ë“  ì„¤ì •ê°’ .envë¡œ ë¶„ë¦¬ âœ…
ë³€ìˆ˜ëª…: base_url, api_key, project_name_v1.0.0
ë³´ì•ˆ: í•˜ë“œì½”ë”© ê¸ˆì§€, SECRET_KEY í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© âœ…

8. í˜„ì¬ í”„ë¡œì íŠ¸ íŒŒì¼ êµ¬ì¡°
final_pr/
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ django_main/              âœ… ê¸°ë³¸ êµ¬ì¡° ì™„ë£Œ
â”‚       â”œâ”€â”€ apps/
â”‚       â”‚   â”œâ”€â”€ core/             (BaseModel, permissions)
â”‚       â”‚   â”œâ”€â”€ users/            (UserProfile)
â”‚       â”‚   â”œâ”€â”€ emr/              (Patient, Encounter, SOAP, Vitals, Document)
â”‚       â”‚   â”œâ”€â”€ custom/           (Doctor, Appointment, Prediction, Prescription)
â”‚       â”‚   â””â”€â”€ notifications/    (ì•Œë¦¼ ë¡œì§)
â”‚       â”œâ”€â”€ config/constants.py   âœ… ëª¨ë“  ìƒìˆ˜ ì •ì˜ ì™„ë£Œ
â”‚       â”œâ”€â”€ neuronova/
â”‚       â”‚   â”œâ”€â”€ settings.py       âœ… í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©
â”‚       â”‚   â””â”€â”€ urls.py           âœ… API ë¼ìš°íŒ… êµ¬ì¡°
â”‚       â””â”€â”€ requirements.txt      âœ… ì˜ì¡´ì„± ì •ì˜
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ react_web/                âœ… 100% ì™„ì„±
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ pages/            (Dashboard, PatientList, Appointment ë“±)
â”‚   â”‚       â”œâ”€â”€ components/       (PatientCard, XAI Visualization ë“±)
â”‚   â”‚       â””â”€â”€ auth/             (AuthContext, JWT)
â”‚   â”‚
â”‚   â””â”€â”€ flutter_app/              âœ… 100% ì™„ì„±
â”‚       â””â”€â”€ lib/
â”‚           â”œâ”€â”€ features/         (login, home, appointment, notifications)
â”‚           â”œâ”€â”€ data/             (models, repositories, local_database)
â”‚           â””â”€â”€ core/             (config, constants, logger)
â”‚
â”œâ”€â”€ docker-compose.yml            âœ… MySQL, Redis, Orthanc ì„¤ì • ì™„ë£Œ
â””â”€â”€ docs/                         âœ… ìƒì„¸ ëª…ì„¸ ë¬¸ì„œ

9. êµ¬í˜„ ì™„ë£Œ í•­ëª© (2025-11-28)
âœ… Django Migration ì‹¤í–‰
- ëª¨ë“  ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© ì™„ë£Œ (users, emr, custom, notifications)

âœ… Views/Serializers êµ¬í˜„
apps/users/
- UserRegistrationSerializer: íšŒì›ê°€ì… with ì—­í•  í• ë‹¹
- ChangePasswordSerializer: ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- UserViewSet: register, me, change_password actions
- RBAC í•„í„°ë§: í™˜ìëŠ” ë³¸ì¸ë§Œ, ì˜ë£Œì§„ì€ ì „ì²´ ì¡°íšŒ

apps/emr/
- PatientSerializer, EncounterDetailSerializer (SOAP/Vitals í¬í•¨)
- PatientViewSet: encounters, medical_history actions
- EncounterViewSet: ìë™ doctor í• ë‹¹
- FormSOAPViewSet, FormVitalsViewSet (BMI ìë™ ê³„ì‚°)

apps/custom/
- AppointmentViewSet: confirm, cancel actions (ì•Œë¦¼ í†µí•©)
- PatientPredictionResultViewSet: confirm_prediction (Human-in-the-loop), pending_review
- PrescriptionViewSet, DoctorViewSet

âœ… Django-Orthanc ì—°ë™ API
apps/core/services/orthanc_service.py
- OrthancService í´ë˜ìŠ¤ (Singleton pattern)
- DICOM Study/Series/Instance ì¡°íšŒ
- ì´ë¯¸ì§€ í”„ë¦¬ë·°, íŒŒì¼ ë‹¤ìš´ë¡œë“œ, í†µê³„

apps/core/views.py & urls.py
- 7ê°œ API ì—”ë“œí¬ì¸íŠ¸ (Study, Series, Instance, Upload, Statistics)

âœ… Firebase FCM í‘¸ì‹œ ì•Œë¦¼
Backend (Django)
- NotificationService (Strategy Pattern)
- FCMNotificationStrategy, EmailNotificationStrategy
- ì´ë²¤íŠ¸ ê¸°ë°˜ ì•Œë¦¼: ì˜ˆì•½ í™•ì¸/ì·¨ì†Œ, ì§„ë‹¨ ì™„ë£Œ, ì²˜ë°© ë°œê¸‰
- Appointment ëª¨ë¸ì— í†µí•©

Frontend (Flutter)
- NotificationService.dart
- FCM ì´ˆê¸°í™”, í† í° ê´€ë¦¬, ì„œë²„ ì „ì†¡
- Foreground/Background ë©”ì‹œì§€ ì²˜ë¦¬
- ë¡œì»¬ ì•Œë¦¼ í‘œì‹œ, ë„¤ë¹„ê²Œì´ì…˜ í•¸ë“¤ë§

âœ… í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
apps/users/tests/test_views.py (12 test methods)
- íšŒì›ê°€ì…, ì¸ì¦, ê¶Œí•œ, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

apps/emr/tests/test_views.py (8 test methods)
- Patient CRUD, Encounter ìƒì„¸, SOAP/Vitals, ë³‘ë ¥ ì¡°íšŒ

apps/custom/tests/test_views.py (9 test methods)
- Appointment ìƒëª…ì£¼ê¸°, AI ì˜ˆì¸¡ Human-in-the-loop, Prescription

âœ… API ë¬¸ì„œ ìë™ ìƒì„±
- drf-spectacular ìŠ¤í‚¤ë§ˆ ìƒì„± ì„±ê³µ

â³ ë‚¨ì€ ì‘ì—…
ğŸŸ¡ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²€ì¦
- UTF-8 ì¸ì½”ë”© ì´ìŠˆ ìˆ˜ì • í•„ìš”
- ì „ì²´ í…ŒìŠ¤íŠ¸ suite ì‹¤í–‰ ë° í†µê³¼ í™•ì¸

ğŸŸ¡ Firebase ì„¤ì • íŒŒì¼
- google-services.json (Android)
- GoogleService-Info.plist (iOS)

ğŸ”´ Flask AI ì„œë²„ êµ¬ì¶• (ëª…ì‹œì  ëŒ€ê¸°)
- ìµëª…í™” ë°ì´í„° ìˆ˜ì‹  API
- AI ëª¨ë¸ ë¡œë”© (ONNX ê¶Œì¥)
- XAI ìƒì„± (SHAP/Grad-CAM)
- ê²°ê³¼ ë°˜í™˜ API


10. ì¥ì  ë¶„ì„
âœ… ì˜ëœ ì :
ëª…í™•í•œ ì„¤ê³„: DB ìŠ¤í‚¤ë§ˆ, ê¶Œí•œ ì •ì±…, ì•„í‚¤í…ì²˜ê°€ ë¬¸ì„œí™”ë¨
ë³´ì•ˆ ê³ ë ¤: ìµëª…í™”, ì•”í˜¸í™”, ìë™ ì‚­ì œ ì •ì±…
Frontend ì™„ì„±ë„: React/Flutter ëª¨ë‘ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°: Factory/Strategy íŒ¨í„´, ëª¨ë“ˆí™”
Soft-coding: í™˜ê²½ë³€ìˆ˜ë¡œ ì„¤ì • ë¶„ë¦¬
ì˜ë£Œ í‘œì¤€ ì¤€ìˆ˜: OpenEMR í˜¸í™˜, SOAP ì°¨íŠ¸, DICOM ì—°ë™

11. ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ
ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥
âœ… í…ŒìŠ¤íŠ¸ UTF-8 ì¸ì½”ë”© ìˆ˜ì •
âœ… ì „ì²´ í…ŒìŠ¤íŠ¸ suite ì‹¤í–‰
Firebase ì„¤ì • íŒŒì¼ ì¶”ê°€ (google-services.json)
í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì • (.env.production)

Flask AI ì„œë²„ êµ¬ì¶• (2-3ì£¼)
ëª¨ë¸ ë°°í¬ í™˜ê²½ êµ¬ì¶•
XAI íŒŒì´í”„ë¼ì¸ êµ¬í˜„
Djangoì™€ ë¹„ë™ê¸° í†µì‹  (Celery)

í†µí•© í…ŒìŠ¤íŠ¸ (1ì£¼)
Frontend-Backend E2E ì—°ë™ í…ŒìŠ¤íŠ¸
ì„±ëŠ¥ ìµœì í™” (ì¿¼ë¦¬ ìµœì í™”, ìºì‹±)

ë°°í¬ ì¤€ë¹„
Nginx ì„¤ì • íŒŒì¼ ì‘ì„±
Docker í”„ë¡œë•ì…˜ ì„¤ì •
CI/CD íŒŒì´í”„ë¼ì¸ (GitHub Actions)
ëª¨ë‹ˆí„°ë§ (Sentry, Prometheus)

12. ìµœì¢… í‰ê°€ (ì—…ë°ì´íŠ¸: 2025-11-28)
ì „ì²´ ì™„ì„±ë„: ì•½ 85%
Frontend: 100% âœ…
Backend êµ¬ì¡°: 100% âœ…
Backend êµ¬í˜„: 95% âœ…
  - Django API ì™„ì„± (Users, EMR, Custom)
  - Orthanc ì—°ë™ ì™„ë£Œ
  - í‘¸ì‹œ ì•Œë¦¼ ì™„ë£Œ (Django + Flutter)
  - í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ì™„ë£Œ
AI ì„œë²„: 0% â³ (ëª…ì‹œì  ëŒ€ê¸°)
í†µí•© í…ŒìŠ¤íŠ¸: 70% âœ…
  - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
  - E2E í…ŒìŠ¤íŠ¸ ëŒ€ê¸°

ê°•ì :
âœ… ì˜ë£Œ ì‹œìŠ¤í…œì— ì í•©í•œ ê²¬ê³ í•œ ì„¤ê³„
âœ… ë³´ì•ˆ ë° ê·œì • ì¤€ìˆ˜ ê³ ë ¤ (ìµëª…í™”, ì•”í˜¸í™”, RBAC)
âœ… ëª…í™•í•œ ë¬¸ì„œí™” ë° í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
âœ… Backend API ì™„ì„± (Django REST Framework)
âœ… DICOM ì„œë²„ í†µí•© (Orthanc)
âœ… ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ (FCM)
âœ… Human-in-the-loop AI ê²€ì¦ íŒ¨í„´

ë‚¨ì€ ì‘ì—…:
â³ Flask AI ì¶”ë¡  ì„œë²„ êµ¬ì¶•
â³ Frontend-Backend E2E í†µí•© í…ŒìŠ¤íŠ¸
â³ í”„ë¡œë•ì…˜ ë°°í¬ í™˜ê²½ ì¤€ë¹„ (Nginx, Docker, CI/CD)