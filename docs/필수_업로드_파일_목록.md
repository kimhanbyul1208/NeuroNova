# ğŸš€ NeuroNova ìˆ˜ë™ ë°°í¬ - í•„ìˆ˜ ì—…ë¡œë“œ íŒŒì¼

## ğŸ“‹ ë°°í¬ ìˆœì„œ

```
1. ì„œë²„ì—ì„œ git clone
2. ì•„ë˜ 3ê°€ì§€ íŒŒì¼ ì—…ë¡œë“œ
3. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
```

---

## ğŸ“¦ í•„ìˆ˜ ì—…ë¡œë“œ íŒŒì¼ (3ê°€ì§€)

### 1ï¸âƒ£ .env íŒŒì¼ (í™˜ê²½ ë³€ìˆ˜)

**ğŸ“ ì—…ë¡œë“œ ìœ„ì¹˜:**
```
backend/django_main/.env
```

**ğŸ“¤ ì—…ë¡œë“œ ëª…ë ¹:**
```bash
scp backend/django_main/.env ubuntu@ì„œë²„IP:/var/www/neuronova/backend/django_main/.env
```

**ğŸ“„ í•„ìˆ˜ ì„¤ì • í•­ëª©:**
- `SECRET_KEY` - Django ì‹œí¬ë¦¿ í‚¤
- `DB_PASSWORD` - ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸
- `ENCRYPTION_KEY` - í™˜ì ì •ë³´ ì•”í˜¸í™” í‚¤
- `ALLOWED_HOSTS` - ì„œë²„ IP ë˜ëŠ” ë„ë©”ì¸

**âš ï¸ ì£¼ì˜:**
- GitHubì— ì ˆëŒ€ ì˜¬ë¦¬ì§€ ë§ˆì„¸ìš”!
- `.gitignore`ì— ì´ë¯¸ í¬í•¨ë˜ì–´ ìˆìŒ

---

### 2ï¸âƒ£ ML ëª¨ë¸ íŒŒì¼

**ğŸ“ ì—…ë¡œë“œ ìœ„ì¹˜:**
```
backend/flask_ml/models/
```

**ğŸ“¦ íŒŒì¼ ëª©ë¡:**
```
backend/flask_ml/models/
â””â”€â”€ xray_pneumonia_model.h5    (ì£¼ ëª¨ë¸, ~50-200MB)
```

**ğŸ“¤ ì—…ë¡œë“œ ëª…ë ¹:**
```bash
# SCPë¡œ ì—…ë¡œë“œ
scp backend/flask_ml/models/xray_pneumonia_model.h5 \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/flask_ml/models/

# ë˜ëŠ” rsyncë¡œ ì—…ë¡œë“œ (í° íŒŒì¼ ê¶Œì¥)
rsync -avz --progress \
  backend/flask_ml/models/xray_pneumonia_model.h5 \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/flask_ml/models/
```

**âš ï¸ ì£¼ì˜:**
- íŒŒì¼ í¬ê¸°ê°€ í¼ (50-200MB)
- GitHubì— ì˜¬ë¦¬ë©´ ì•ˆ ë¨ (`.gitignore`ì— í¬í•¨ë¨)

---

### 3ï¸âƒ£ Pickle íŒŒì¼ (ì˜ˆì‹œ ë°ì´í„°)

**ğŸ“ ì—…ë¡œë“œ ìœ„ì¹˜:**
```
backend/django_main/fixtures/
```

**ğŸ“¦ íŒŒì¼ ëª©ë¡:**
```
backend/django_main/fixtures/
â”œâ”€â”€ sample_patients.pkl          (ìƒ˜í”Œ í™˜ì ë°ì´í„°)
â”œâ”€â”€ sample_medical_records.pkl   (ìƒ˜í”Œ ì§„ë£Œ ê¸°ë¡)
â””â”€â”€ sample_medications.pkl       (ìƒ˜í”Œ ì•½ë¬¼ ë°ì´í„°)
```

**ğŸ“¤ ì—…ë¡œë“œ ëª…ë ¹:**
```bash
scp backend/django_main/fixtures/*.pkl \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/django_main/fixtures/
```

**âš ï¸ ì£¼ì˜:**
- ì„ íƒì‚¬í•­ (ì—†ì–´ë„ ì‹¤í–‰ ê°€ëŠ¥)
- í…ŒìŠ¤íŠ¸/ë°ëª¨ ìš©ë„

---

## ğŸ”§ ë°°í¬ ì‹¤í–‰

### Step 1: Git Clone (ì„œë²„ì—ì„œ)

```bash
# ì„œë²„ì— SSH ì ‘ì†
ssh ubuntu@ì„œë²„IP

# Git clone
cd /var/www
sudo git clone https://github.com/your-username/neuronova.git
sudo chown -R ubuntu:ubuntu neuronova
cd neuronova
```

---

### Step 2: í•„ìˆ˜ íŒŒì¼ ì—…ë¡œë“œ (ë¡œì»¬ì—ì„œ)

```bash
# ë¡œì»¬ ì»´í“¨í„°ì—ì„œ ì‹¤í–‰

# 1. .env íŒŒì¼ ì—…ë¡œë“œ
scp backend/django_main/.env \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/django_main/.env

# 2. ML ëª¨ë¸ ì—…ë¡œë“œ
scp backend/flask_ml/models/xray_pneumonia_model.h5 \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/flask_ml/models/

# 3. Pickle íŒŒì¼ ì—…ë¡œë“œ (ì„ íƒ)
scp backend/django_main/fixtures/*.pkl \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/django_main/fixtures/
```

---

### Step 3: ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (ì„œë²„ì—ì„œ)

```bash
# ì„œë²„ì—ì„œ ì‹¤í–‰
ssh ubuntu@ì„œë²„IP
cd /var/www/neuronova

# ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x deploy/scripts/manual_deploy.sh

# ë°°í¬ ì‹¤í–‰
sudo ./deploy/scripts/manual_deploy.sh
```

**ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ê°€ ìë™ìœ¼ë¡œ:**
1. âœ… Python ê°€ìƒí™˜ê²½ ìƒì„±
2. âœ… ì˜ì¡´ì„± ì„¤ì¹˜ (pip install)
3. âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
4. âœ… ì •ì  íŒŒì¼ ìˆ˜ì§‘
5. âœ… React ë¹Œë“œ (npm install & build)
6. âœ… Gunicorn ì„¤ì •
7. âœ… Nginx ì„¤ì •
8. âœ… ì„œë¹„ìŠ¤ ì‹œì‘

---

## âœ… ë°°í¬ í™•ì¸

### 1. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

```bash
# Django (Gunicorn)
sudo systemctl status gunicorn_django

# Nginx
sudo systemctl status nginx
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
â— gunicorn_django.service - gunicorn daemon for Django
   Active: active (running)
```

---

### 2. Health Check

```bash
curl http://localhost/api/health/
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```json
{
  "status": "healthy",
  "checks": {
    "database": "ok",
    "ml_api": "ok"
  }
}
```

---

### 3. ë¸Œë¼ìš°ì € ì ‘ì†

```
http://ì„œë²„IP
ë˜ëŠ”
http://your-domain.com
```

---

## ğŸ“ íŒŒì¼ ìœ„ì¹˜ ìš”ì•½

```
NeuroNova/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ django_main/
â”‚   â”‚   â”œâ”€â”€ .env                        â† 1ï¸âƒ£ ì—…ë¡œë“œ í•„ìš”!
â”‚   â”‚   â””â”€â”€ fixtures/
â”‚   â”‚       â””â”€â”€ *.pkl                   â† 3ï¸âƒ£ ì—…ë¡œë“œ í•„ìš” (ì„ íƒ)
â”‚   â”‚
â”‚   â””â”€â”€ flask_ml/
â”‚       â””â”€â”€ models/
â”‚           â””â”€â”€ xray_pneumonia_model.h5 â† 2ï¸âƒ£ ì—…ë¡œë“œ í•„ìš”!
â”‚
â””â”€â”€ deploy/
    â””â”€â”€ scripts/
        â””â”€â”€ manual_deploy.sh            â† ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
```

---

## ğŸ” ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### .env íŒŒì¼ ë³´ì•ˆ

- [ ] `.gitignore`ì— `.env` í¬í•¨ í™•ì¸
- [ ] GitHubì— `.env` ì—…ë¡œë“œí•˜ì§€ ì•ŠìŒ
- [ ] `SECRET_KEY` ëœë¤ ê°’ìœ¼ë¡œ ë³€ê²½
- [ ] `ENCRYPTION_KEY` ìƒì„± í›„ ë³€ê²½
- [ ] í”„ë¡œë•ì…˜ í™˜ê²½: `DEBUG=False` ì„¤ì •

### íŒŒì¼ ê¶Œí•œ

```bash
# ì„œë²„ì—ì„œ ì‹¤í–‰
chmod 600 backend/django_main/.env
chmod 644 backend/flask_ml/models/*.h5
chmod 644 backend/django_main/fixtures/*.pkl
```

---

## ğŸ†˜ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### .env íŒŒì¼ ì—†ìŒ

**ì—ëŸ¬:**
```
âŒ ì˜¤ë¥˜: .env íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.
```

**í•´ê²°:**
```bash
# íŒŒì¼ í™•ì¸
ls -lh backend/django_main/.env

# ì—†ìœ¼ë©´ ì—…ë¡œë“œ
scp .env ubuntu@ì„œë²„IP:/var/www/neuronova/backend/django_main/.env
```

---

### ML ëª¨ë¸ íŒŒì¼ ì—†ìŒ

**ê²½ê³ :**
```
âš ï¸  ê²½ê³ : ML ëª¨ë¸ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.
```

**í•´ê²°:**
```bash
# ëª¨ë¸ ì—…ë¡œë“œ
scp backend/flask_ml/models/xray_pneumonia_model.h5 \
  ubuntu@ì„œë²„IP:/var/www/neuronova/backend/flask_ml/models/
```

---

### ê¶Œí•œ ì—ëŸ¬

**ì—ëŸ¬:**
```
Permission denied
```

**í•´ê²°:**
```bash
# ì„œë²„ì—ì„œ
sudo chown -R ubuntu:ubuntu /var/www/neuronova
```

---

## ğŸ“ ì¶”ê°€ ë„ì›€

ë” ìì„¸í•œ ë‚´ìš©ì€ [ìˆ˜ë™ ë°°í¬ ê°€ì´ë“œ](docs/34_ìˆ˜ë™_ë°°í¬_ê°€ì´ë“œ.md) ì°¸ê³ 

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-12-07
